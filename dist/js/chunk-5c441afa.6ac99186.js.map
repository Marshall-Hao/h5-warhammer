{"version":3,"sources":["webpack:///./src/components/base/svgIcon/SvgIcon.vue","webpack:///./src/components/base/svgIcon/SvgIcon.vue?4dda","webpack:///./src/assets/images/regular/sigMarSmallIcon.png","webpack:///./src/views/Choose.vue","webpack:///./src/views/Choose.vue?ab6c","webpack:///./src/components/base/svgIcon/SvgIcon.vue?4108","webpack:///./src/assets/images/regular/40,000SmallIcon.png","webpack:///./src/views/Choose.vue?7bd9","webpack:///./src/services/choose.js","webpack:///./src/assets/js/use-middle-interaction.js"],"names":["class","icon","href","iconName","style","duration","fill","stroke","name","props","Number","String","prefix","type","default","Object","animation","setup","__exports__","render","module","exports","ref","maskValue","beatAnimate","left","iconTransform","onMiddleTouchStart","onMiddleTouchMove","onMiddleTouchEnd","right","components","SvgIcon","maskTransform","swipeOne","swipeTwo","blkOffset","transparentOffset","mounted","window","innerWidth","innerHeight","document","querySelector","height","quizStart","categoryNum","headers","post","user_quiz","category_id","quizCategory","storage","session","set","QUIZ_KEY","id","console","log","ahoy","track","category","user_quiz_id","useMiddleInteraction","direction","questionId","choices","cookie","useCookie","getCookie","USER_KEY","isMob","detectMob","reactive","transparentOffsetY","transparentOffsetYGrey","redOffset","greyOffset","router","useRouter","store","useStore","touch","e","startX","touches","pageX","startY","pageY","directionLocked","deltaX","deltaY","verticalMoveAcion","horizontalMoveAcion","verticalEndAction","horizontalEndAcion","percentX","widthL","widthR","value","transform","transitionDuration","percentY","heightB","Math","max","heightT","abs","commit","push","path","submitAnswer","choiceId","explosion","ele","element","elementMask","particleGenerator","gsap","timeline","to","opacity","ease","onComplete","onMounted","removeUnit","getComputedStyle","width"],"mappings":"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","file":"js/chunk-5c441afa.6ac99186.js","sourcesContent":["<template>\n  <svg :class=\"icon\">\n    <use :href=\"iconName\" :style=\"duration\" :fill=\"fill\" :stroke=\"stroke\"></use>\n  </svg>\n</template>\n\n<script>\nexport default {\n  name: \"svg-icon\",\n  props: {\n    name: [Number, String],\n    prefix: {\n      type: String,\n      default: \"war-q3\",\n    },\n    duration: {\n      type: Object,\n      default: {\n        // animationDuration: \"5s\",\n        animation: \"logo3 3s infinite alternate\",\n      },\n    },\n    fill: {\n      type: String,\n      default: \"black\",\n    },\n    stroke: {\n      type: String,\n      default: \"rgba(72, 138, 20, 0)\",\n    },\n    icon: {\n      type: String,\n      default: \"icon\",\n    },\n  },\n  setup(props) {\n    const iconName = `#${props.prefix}${props.name}`;\n    return {\n      iconName,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.icon {\n  height: 100%;\n  width: 100%;\n  @include absCenter;\n}\n\n.icon-special {\n  height: 100%;\n  width: 100%;\n  @include absXCenter;\n  top: 11%;\n}\n\nuse {\n  // fill: black;\n  // stroke: black;\n  stroke-width: 5;\n\n  // animation: logo infinite alternate;\n  // animation-duration: 3s;\n}\n</style>\n","import { render } from \"./SvgIcon.vue?vue&type=template&id=2875fd7a&scoped=true\"\nimport script from \"./SvgIcon.vue?vue&type=script&lang=js\"\nexport * from \"./SvgIcon.vue?vue&type=script&lang=js\"\n\nimport \"./SvgIcon.vue?vue&type=style&index=0&id=2875fd7a&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/marshallchen/code/Marshall-Hao/h5-warhammer/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2875fd7a\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/sigMarSmallIcon.388b7cc8.png\";","<template>\n  <div class=\"choose\">\n    <svg width=\"0\" height=\"0\">\n      <filter\n        id=\"fractal\"\n        filterUnits=\"objectBoundingBox\"\n        x=\"0%\"\n        y=\"0%\"\n        width=\"100%\"\n        height=\"100%\"\n      >\n        <feTurbulence\n          id=\"turbulence\"\n          type=\"fractalNoise\"\n          baseFrequency=\"0.032 0.02\"\n          numOctaves=\"1\"\n        >\n          <animate\n            id=\"wave1\"\n            attributeName=\"baseFrequency\"\n            attributeType=\"XML\"\n            from=\"0.032 0.02\"\n            to=\"0.022 0.01\"\n            dur=\"3.5s\"\n            fill=\"freeze\"\n            begin=\"0; wave2.end\"\n          />\n          <animate\n            id=\"wave2\"\n            attributeName=\"baseFrequency\"\n            attributeType=\"XML\"\n            from=\"0.022 0.01\"\n            to=\"0.032 0.02\"\n            dur=\"3.5s\"\n            fill=\"freeze\"\n            begin=\"wave1.end\"\n          />\n        </feTurbulence>\n        <feDisplacementMap in=\"SourceGraphic\" scale=\"15\"></feDisplacementMap>\n      </filter>\n    </svg>\n\n    <header class=\"choose-header\">\n      <div class=\"choose-header-icons\">\n        <div>\n          <img\n            src=\"../assets/images/regular/sigMarSmallIcon.png\"\n            alt=\"sigMar\"\n          />\n\n          <p id=\"choose-header-description-left\">\n            Enter the Mortal Realms in Warhammer Age of Sigmar, a fantasy\n            setting full of magic, gods, and monsters.\n          </p>\n        </div>\n        <div>\n          <img\n            src=\"../assets/images/regular/40,000SmallIcon.png\"\n            alt=\"40,000\"\n          />\n          <p id=\"choose-header-description-right\">\n            Explore the grim darkness of the far future in Warhammer 40,000,\n            where science and sorcery fuel endless war.\n          </p>\n        </div>\n      </div>\n    </header>\n\n    <section class=\"choose-section\">\n      <div class=\"choose-section-displayF\"></div>\n      <div\n        class=\"choose-section-displayS\"\n        :style=\"`-webkit-mask: ${maskValue};transition:-webkit-mask ${duration};`\"\n      ></div>\n    </section>\n    <div class=\"choose-section-options\">\n      <div class=\"choose-section-options-l\" ref=\"swipeOne\">\n        <div :class=\"{ heartbeat: beatAnimate.left }\">前尘</div>\n        <ul>\n          <!-- <li>\n            <svg width=\"16.5\" height=\"30\" viewBox=\"0 0 110 200\">\n              <polyline\n                points=\"100 0, 0 100, 100 200,110 190,25 100, 110 10 \"\n                fill=\"rgba(165, 147, 93, 0.4)\"\n                stroke-linecap=\"round\"\n              >\n                <animate\n                  id=\"l11\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgba(255, 255, 255, 0.4)\"\n                  to=\"rgba(165, 147, 93, 0.4)\"\n                  dur=\"2s\"\n                  begin=\"0; l12.end\"\n                ></animate>\n                <animate\n                  id=\"l12\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgba(165, 147, 93, 0.4)\"\n                  to=\"rgba(255, 255, 255, 0.4)\"\n                  dur=\"2s\"\n                  begin=\"l11.end\"\n                ></animate>\n              </polyline>\n            </svg>\n          </li> -->\n          <li>\n            <svg width=\"16.5\" height=\"24\" viewBox=\"0 0 110 200\">\n              <polyline\n                points=\"100 0, 0 100, 100 200,110 190,25 100, 110 10 \"\n                fill=\"rgba(165, 147, 93, 0.6)\"\n                stroke-linecap=\"round\"\n              >\n                <animate\n                  id=\"l21\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgba(255, 255, 255, 0.6)\"\n                  to=\"rgba(165, 147, 93, 0.6)\"\n                  dur=\"2s\"\n                  begin=\"0; l22.end\"\n                ></animate>\n                <animate\n                  id=\"l22\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgba(165, 147, 93, 0.6)\"\n                  to=\"rgba(255, 255, 255, 0.6)\"\n                  dur=\"2s\"\n                  begin=\"l21.end\"\n                ></animate>\n              </polyline>\n            </svg>\n          </li>\n          <li>\n            <svg width=\"16.5\" height=\"24\" viewBox=\"0 0 110 200\">\n              <polyline\n                points=\"100 0, 0 100, 100 200,110 190,25 100, 110 10 \"\n                fill=\"rgba(165, 147, 93, 0.8)\"\n                stroke-linecap=\"round\"\n              >\n                <animate\n                  id=\"l31\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgba(255, 255, 255, 0.8)\"\n                  to=\"rgba(165, 147, 93, 0.8)\"\n                  dur=\"2s\"\n                  begin=\"0; l32.end\"\n                ></animate>\n                <animate\n                  id=\"l32\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgba(165, 147, 93, 0.8)\"\n                  to=\"rgba(255, 255, 255, 0.8)\"\n                  dur=\"2s\"\n                  begin=\"l31.end\"\n                ></animate>\n              </polyline>\n            </svg>\n          </li>\n          <li>\n            <svg width=\"16.5\" height=\"24\" viewBox=\"0 0 110 200\">\n              <polyline\n                points=\"100 0, 0 100, 100 200,110 190,25 100, 110 10 \"\n                fill=\"rgb(165, 147, 93)\"\n                stroke-linecap=\"round\"\n              >\n                <animate\n                  id=\"l41\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgb(255, 255, 255)\"\n                  to=\"rgb(165, 147, 93)\"\n                  dur=\"2s\"\n                  begin=\"0; l42.end\"\n                ></animate>\n                <animate\n                  id=\"l42\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgb(165, 147, 93)\"\n                  to=\"rgb(255, 255, 255)\"\n                  dur=\"2s\"\n                  begin=\"l41.end\"\n                ></animate>\n              </polyline>\n            </svg>\n          </li>\n        </ul>\n      </div>\n      <div\n        class=\"choose-section-options-m\"\n        :style=\"iconTransform\"\n        @touchstart.prevent=\"onMiddleTouchStart\"\n        @touchmove.prevent=\"onMiddleTouchMove\"\n        @touchend.prevent=\"onMiddleTouchEnd\"\n        @mouseenter.prevent=\"onMiddleTouchStart\"\n        @mousemove.prevent=\"onMiddleTouchMove\"\n        @mouseleave=\"onMiddleTouchEnd\"\n      >\n        <svg-icon\n          :name=\"`hammer`\"\n          :prefix=\"`war-`\"\n          fill=\"#FFFFFF\"\n          stroke=\"#FFFFFF\"\n          :duration=\"{}\"\n        ></svg-icon>\n      </div>\n      <div class=\"choose-section-options-r\" ref=\"swipeTwo\">\n        <ul>\n          <li>\n            <svg width=\"16.5\" height=\"24\" viewBox=\"0 0 110 200\">\n              <polyline\n                points=\"10 200, 110 100, 10 0,0 10,85 100, 0 190 \"\n                fill=\"#64798B\"\n                stroke-linecap=\"round\"\n              >\n                <animate\n                  id=\"r41\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"#fff\"\n                  to=\"#64798B\"\n                  dur=\"2s\"\n                  begin=\"0; r42.end\"\n                ></animate>\n                <animate\n                  id=\"r42\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"#64798B\"\n                  to=\"#fff\"\n                  dur=\"2s\"\n                  begin=\"r41.end\"\n                ></animate>\n              </polyline>\n            </svg>\n          </li>\n          <li>\n            <svg width=\"16.5\" height=\"24\" viewBox=\"0 0 110 200\">\n              <polyline\n                points=\"10 200, 110 100, 10 0,0 10,85 100, 0 190 \"\n                fill=\"rgba(100, 121, 139, 0.8)\"\n                stroke-linecap=\"round\"\n              >\n                <animate\n                  id=\"r31\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgba(255, 255, 255, 0.8)\"\n                  to=\"rgba(100, 121, 139, 0.8)\"\n                  dur=\"2s\"\n                  begin=\"0; r32.end\"\n                ></animate>\n                <animate\n                  id=\"r32\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgba(100, 121, 139, 0.8)\"\n                  to=\"rgba(255, 255, 255, 0.8)\"\n                  dur=\"2s\"\n                  begin=\"r31.end\"\n                ></animate>\n              </polyline>\n            </svg>\n          </li>\n          <li>\n            <svg width=\"16.5\" height=\"24\" viewBox=\"0 0 110 200\">\n              <polyline\n                points=\"10 200, 110 100, 10 0,0 10,85 100, 0 190 \"\n                fill=\"rgba(100, 121, 139, 0.6)\"\n                stroke-linecap=\"round\"\n              >\n                <animate\n                  id=\"r21\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgba(255, 255, 255, 0.6)\"\n                  to=\"rgba(100, 121, 139, 0.6)\"\n                  dur=\"2s\"\n                  begin=\"0; r22.end\"\n                ></animate>\n                <animate\n                  id=\"r22\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgba(100, 121, 139, 0.6)\"\n                  to=\"rgba(255, 255, 255, 0.6)\"\n                  dur=\"2s\"\n                  begin=\"r21.end\"\n                ></animate>\n              </polyline>\n            </svg>\n          </li>\n          <!-- <li>\n            <svg width=\"16.5\" height=\"24\" viewBox=\"0 0 110 200\">\n              <polyline\n                points=\"10 200, 110 100, 10 0,0 10,85 100, 0 190 \"\n                fill=\"rgba(100, 121, 139, 0.4)\"\n                stroke-linecap=\"round\"\n              >\n                <animate\n                  id=\"r11\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgba(255, 255, 255, 0.4)\"\n                  to=\"rgba(100, 121, 139, 0.4)\"\n                  dur=\"2s\"\n                  begin=\"0; r12.end\"\n                ></animate>\n                <animate\n                  id=\"r12\"\n                  attributeName=\"fill\"\n                  attributeType=\"XML\"\n                  from=\"rgba(100, 121, 139, 0.4)\"\n                  to=\"rgba(255, 255, 255, 0.4)\"\n                  dur=\"2s\"\n                  begin=\"r11.end\"\n                ></animate>\n              </polyline>\n            </svg>\n          </li> -->\n        </ul>\n        <div\n          style=\"color: #64798b; text-align: right\"\n          :class=\"{ heartbeat: beatAnimate.right }\"\n        >\n          未来\n        </div>\n      </div>\n    </div>\n    <div class=\"choose-tips\">\n      <h1>Swipe left or right to get started.</h1>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SvgIcon from \"../components/base/svgIcon/SvgIcon\";\nimport { computed } from \"@vue/runtime-core\";\nimport useMiddleInteraction from \"../assets/js/use-middle-interaction\";\nexport default {\n  name: \"choose\",\n  components: {\n    SvgIcon,\n  },\n  setup() {\n    const animation = {\n      animation: \"mainlogo 5s infinite alternate\",\n    };\n    //   * ref\n    //  * hooks\n    const {\n      onMiddleTouchStart,\n      onMiddleTouchMove,\n      onMiddleTouchEnd,\n      iconTransform,\n      maskTransform,\n      swipeOne,\n      swipeTwo,\n      beatAnimate,\n    } = useMiddleInteraction();\n    //  * computed\n    const maskValue = computed(() => {\n      return `linear-gradient(90deg, #000 ${maskTransform.blkOffset}%, transparent ${maskTransform.transparentOffset}%)`;\n    });\n    const duration = computed(() => {\n      return `${maskTransform.duration}ms`;\n    });\n    //  * watch\n    // * lifecycle\n\n    // * methods\n    // * return\n    return {\n      animation,\n      onMiddleTouchStart,\n      onMiddleTouchMove,\n      onMiddleTouchEnd,\n      iconTransform,\n      swipeOne,\n      swipeTwo,\n      maskTransform,\n      maskValue,\n      duration,\n      beatAnimate,\n    };\n  },\n  mounted() {\n    if (window.innerWidth/window.innerHeight > 0.5) {\n      document.querySelector('.choose-section').style.height = '62%'\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.choose {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  &-header {\n    padding: 0 1rem;\n    text-align: center;\n    position: relative;\n    z-index: 10;\n    &-icons {\n      width: 100%;\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      column-gap: 1rem;\n      // display: flex;\n      // justify-content: space-between;\n    }\n  }\n\n  &-section {\n    // position: absolute;\n    // left: 0;\n    // top: 13rem;\n    position: relative;\n    height: 68%;\n    width: 100vw;\n    display: flex;\n    z-index: 0;\n    mask: linear-gradient(0, $color-theme-b 0%, transparent 100%);\n    &-displayF {\n      height: 100%;\n      width: 100%;\n      background: url(../assets/images/regular/chooseRightGuy.jpg);\n      background-repeat: no-repeat;\n      background-size: cover;\n    }\n    &-displayS {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-image: url(../assets/images/regular/chooseLeftGuy.jpg);\n      background-repeat: no-repeat;\n      background-size: cover;\n      mask: linear-gradient(90deg, #000 45%, transparent 60%);\n      z-index: 1;\n    }\n\n    &-options {\n      z-index: 2;\n      // position: absolute;\n      // bottom: 8.4%;\n      // left: 0;\n      position: relative;\n      height: 6rem;\n      width: 100vw;\n      padding: 0.3rem 1.4rem;\n      background-color: $color-theme-lb;\n      box-shadow: 0 0rem 2rem 0.5rem $color-text-pr;\n      display: flex;\n      &-l,\n      &-r {\n        height: 100%;\n        width: 40%;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        & > div {\n          width: 35%;\n          font-size: 2rem;\n          color: $color-theme-y;\n        }\n        ul {\n          width: 65%;\n          display: flex;\n          flex-direction: row-reverse;\n          justify-content: space-between;\n          align-items: center;\n          li {\n            width: 1.65rem;\n            // height: 3rem;\n            height: 24px;\n          }\n        }\n      }\n\n      &-m {\n        height: 100%;\n        width: 20%;\n      }\n    }\n  }\n\n  &-tips {\n    // position: absolute;\n    // display: block;\n    position: relative;\n    margin-top: 2.8rem;\n    // @media screen and (max-width: 375px) {\n    //   margin-top: 2.4rem;\n    // }\n    width: 100vw;\n    // bottom: 2.5vh;\n    // bottom: 3vh;\n    text-align: center;\n    font-size: 0.8rem;\n    animation: headShake 2s infinite ease-out;\n  }\n}\n\n#choose-header-description-left {\n  // width: 16.7rem;\n  width: 95%; margin: auto;\n  line-height: 2rem;\n  font-size: 1.2rem;\n}\n\n#choose-header-description-right {\n  // width: 16.7rem;\n  width: 95%; margin: auto;\n  line-height: 2rem;\n  font-size: 1.2rem;\n}\n\n.heartbeat {\n  filter: url(#fractal);\n}\n</style>\n","import { render } from \"./Choose.vue?vue&type=template&id=535f72be&scoped=true\"\nimport script from \"./Choose.vue?vue&type=script&lang=js\"\nexport * from \"./Choose.vue?vue&type=script&lang=js\"\n\nimport \"./Choose.vue?vue&type=style&index=0&id=535f72be&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/marshallchen/code/Marshall-Hao/h5-warhammer/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-535f72be\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SvgIcon.vue?vue&type=style&index=0&id=2875fd7a&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/40,000SmallIcon.4908328f.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Choose.vue?vue&type=style&index=0&id=535f72be&lang=scss&scoped=true\"","import { post } from \"./base\";\nimport { QUIZ_KEY } from \"../assets/js/constant\";\nimport storage from \"good-storage\";\nimport ahoy from \"./ahoy\";\n\nexport default async function quizStart(categoryNum, headers) {\n  const quizCategory = await post(\n    \"/user_quizzes\",\n    {\n      user_quiz: {\n        category_id: categoryNum,\n      },\n    },\n    headers\n  );\n  storage.session.set(QUIZ_KEY, quizCategory.id);\n  console.log({quizCategory});\n  if (quizCategory) {\n    ahoy.track(\"Started Quiz\", {\n      category: (categoryNum === 1 ? \"40k\" : \"AOS\"),\n      user_quiz_id: quizCategory.id\n    });\n  }\n}\n","import { onMounted, reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { removeUnit } from \"./util\";\nimport quizStart from \"../../services/choose\";\nimport submitAnswer from \"../../services/answer\";\nimport { useStore } from \"vuex\";\nimport { detectMob } from \"./util\";\nimport { useCookie } from \"vue-cookie-next\";\nimport { USER_KEY } from \"../../assets/js/constant\";\nimport storage from \"good-storage\";\n// import ahoy from \"../../services/ahoy\";\nimport particleGenerator from \"./particle\";\nimport gsap from \"gsap\";\n\nexport default function useMiddleInteraction(\n  direction = \"h\",\n  questionId = 0,\n  choices = {}\n) {\n  const cookie = useCookie();\n  const headers = cookie.getCookie(USER_KEY);\n  const isMob = detectMob();\n\n  // * ref\n  const swipeOne = ref(null);\n  const swipeTwo = ref(null);\n  const iconTransform = ref(null);\n  const beatAnimate = reactive({\n    left: false,\n    right: false,\n  });\n  const maskTransform = reactive({\n    transparentOffset: 60,\n    transparentOffsetY: 55,\n    transparentOffsetYGrey: 55,\n    redOffset: 25,\n    greyOffset: 25,\n    blkOffset: 45,\n    duration: 0,\n  });\n  // * routers\n  const router = useRouter();\n\n  // * store\n  const store = useStore();\n  // * util\n  const touch = {};\n\n  // * lifecycle\n  onMounted(() => {\n    touch.widthL = Number(\n      removeUnit(getComputedStyle(swipeOne.value).width, 0, -2)\n    );\n    touch.widthR = Number(\n      removeUnit(getComputedStyle(swipeTwo.value).width, 0, -2)\n    );\n    touch.heightT = Number(\n      removeUnit(getComputedStyle(swipeOne.value).height, 0, -2)\n    );\n    touch.heightB = Number(\n      removeUnit(getComputedStyle(swipeTwo.value).height, 0, -2)\n    );\n  });\n\n  //  * methods\n  function onMiddleTouchStart(e) {\n    if (isMob) {\n      touch.startX = e.touches[0].pageX;\n      touch.startY = e.touches[0].pageY;\n    } else {\n      touch.startX = e.pageX;\n      touch.startY = e.pageY;\n    }\n    touch.directionLocked = \"\";\n  }\n\n  function onMiddleTouchMove(e) {\n    touch.directionLocked = direction === \"h\" ? \"h\" : \"v\";\n    let deltaX, deltaY;\n    if (isMob) {\n      deltaX = e.touches[0].pageX - touch.startX;\n      deltaY = e.touches[0].pageY - touch.startY;\n    } else {\n      deltaX = e.pageX - touch.startX;\n      deltaY = e.pageY - touch.startY;\n    }\n    if (touch.directionLocked === \"v\") {\n      verticalMoveAcion(deltaY);\n    } else {\n      horizontalMoveAcion(deltaX);\n    }\n  }\n\n  function onMiddleTouchEnd() {\n    if (touch.directionLocked === \"v\") {\n      verticalEndAction();\n    } else {\n      horizontalEndAcion();\n    }\n  }\n\n  function horizontalMoveAcion(deltaX) {\n    if (deltaX > 0) {\n      touch.percentX = deltaX / touch.widthL;\n      beatAnimate.right = true;\n      beatAnimate.left = false;\n    } else {\n      touch.percentX = deltaX / touch.widthR;\n      beatAnimate.left = true;\n      beatAnimate.right = false;\n    }\n\n    iconTransform.value = {\n      transform: `translate3d(${deltaX}px,0,0)`,\n      transitionDuration: \"0ms\",\n    };\n    maskTransform.blkOffset = 45 - touch.percentX * 0.45 * 100;\n    maskTransform.transparentOffset = 60 - touch.percentX * 0.4 * 100;\n    maskTransform.duration = 0;\n  }\n\n  function verticalMoveAcion(deltaY) {\n    if (deltaY > 0) {\n      touch.percentY = deltaY / touch.heightB;\n      maskTransform.greyOffset = Math.max(25 + touch.percentY * 0.25 * 100, 25);\n      maskTransform.transparentOffsetYGrey = Math.max(\n        55 + touch.percentY * 0.45 * 100,\n        55\n      );\n    } else {\n      touch.percentY = deltaY / touch.heightT;\n      maskTransform.redOffset = Math.max(25 - touch.percentY * 0.25 * 100, 25);\n      maskTransform.transparentOffsetY = Math.max(\n        55 - touch.percentY * 0.45 * 100,\n        55\n      );\n    }\n    iconTransform.value = {\n      transform: `translate3d(0,${deltaY}px,0)`,\n      transitionDuration: \"0ms\",\n    };\n    maskTransform.duration = 0;\n  }\n  function horizontalEndAcion() {\n    if (Math.abs(touch.percentX) < 0.95) {\n      const deltaX = 0;\n      beatAnimate.left = false;\n      beatAnimate.right = false;\n      iconTransform.value = {\n        transform: `translate3d(${deltaX}px,0,0)`,\n        transitionDuration: \"300ms\",\n      };\n      maskTransform.transparentOffset = 60;\n      maskTransform.blkOffset = 45;\n      maskTransform.duration = 300;\n    } else {\n      storage.session.set(\"__currentquiz__\", 1);\n      if (touch.percentX > 0) {\n        quizStart(1, headers);\n        store.commit(\"setCategory\", \"40k\");\n        router.push({\n          path: \"/questions/40k/1\",\n        });\n      } else {\n        quizStart(2, headers);\n        store.commit(\"setCategory\", \"aos\");\n        router.push({\n          path: \"/questions/aos/1\",\n        });\n      }\n    }\n  }\n\n  function verticalEndAction() {\n    if (Math.abs(touch.percentY) < 0.75) {\n      const deltaY = 0;\n      iconTransform.value = {\n        transform: `translate3d(0,${deltaY}px,0)`,\n        transitionDuration: \"300ms\",\n      };\n      maskTransform.transparentOffsetY = 55;\n      maskTransform.transparentOffsetYGrey = 55;\n      maskTransform.redOffset = 25;\n      maskTransform.greyOffset = 25;\n      maskTransform.duration = 300;\n    } else {\n      if (touch.percentY < 0) {\n        submitAnswer(\n          {\n            questionId,\n            choiceId: choices[0].id,\n          },\n          headers\n        );\n        explosion(\"top\");\n      } else {\n        submitAnswer(\n          {\n            questionId,\n            choiceId: choices[1].id,\n          },\n          headers\n        );\n        explosion(\"bottom\");\n      }\n      storage.session.set(\"__currentquiz__\", 7);\n      // router.push({\n      //   path: \"/reveal\",\n      // });\n    }\n  }\n\n  function explosion(ele) {\n    const element = document.querySelector(`.${ele}`);\n    const elementMask = document.querySelector(`.${ele} div`);\n    particleGenerator(element, false, false);\n    gsap\n      .timeline()\n      .to(elementMask, {\n        opacity: 0,\n        duration: 0.2,\n      })\n      .to(element, {\n        opacity: 0,\n        duration: 2,\n        ease: \"expo.out\",\n        onComplete: () => {\n          router.push({\n            path: \"/reveal\",\n          });\n        },\n      });\n  }\n  //   *return\n  return {\n    onMiddleTouchStart,\n    onMiddleTouchMove,\n    onMiddleTouchEnd,\n    iconTransform,\n    swipeOne,\n    swipeTwo,\n    maskTransform,\n    beatAnimate,\n  };\n}\n"],"sourceRoot":""}