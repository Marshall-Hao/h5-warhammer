(function(e){function t(t){for(var o,r,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,r=1;r<n.length;r++){var i=n[r];0!==a[i]&&(o=!1)}o&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={app:0},a={app:0},s=[];function i(e){return c.p+"js/"+({"40kq~aosq~choose~reveal~share":"40kq~aosq~choose~reveal~share","40kq~aosq~share":"40kq~aosq~share","40kq":"40kq",aosq:"aosq",share:"share",choose:"choose",reveal:"reveal",landing:"landing",question:"question",terms:"terms"}[e]||e)+"."+{"40kq~aosq~choose~reveal~share":"d12de128","40kq~aosq~share":"b06ef3ea","40kq":"898fadea",aosq:"c1f0a657",share:"0f0365d1",choose:"6dda1b50",reveal:"8ba4fb45",landing:"642f1225",question:"3088668e",terms:"0c1eec99"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"40kq":1,aosq:1,share:1,choose:1,reveal:1,landing:1,question:1,terms:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var o="css/"+({"40kq~aosq~choose~reveal~share":"40kq~aosq~choose~reveal~share","40kq~aosq~share":"40kq~aosq~share","40kq":"40kq",aosq:"aosq",share:"share",choose:"choose",reveal:"reveal",landing:"landing",question:"question",terms:"terms"}[e]||e)+"."+{"40kq~aosq~choose~reveal~share":"31d6cfe0","40kq~aosq~share":"31d6cfe0","40kq":"85f92184",aosq:"2c5f8294",share:"5fc34640",choose:"ffb748c0",reveal:"d626982a",landing:"d601d4b3",question:"fd91be48",terms:"d4c04201"}[e]+".css",a=c.p+o,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===a))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===o||l===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=o,delete r[e],f.parentNode.removeChild(f),n(s)},f.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){r[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var s=new Promise((function(t,n){o=a[e]=[t,n]}));t.push(o[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",d.name="ChunkLoadError",d.type=o,d.request=r,n[1](d)}a[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0658":function(e,t,n){"use strict";n("9555")},"26b3":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o,r=n("5530"),a=n("bc3a"),s=n.n(a),i=n("2808");function c(e,t,n){return console.log({baseURL:o}),n=Object(r["a"])(Object(r["a"])({},n),{"Ahoy-Visit":i["a"].getVisitId(),"Ahoy-Visitor":i["a"].getVisitorId()}),s.a.post(e,t,{headers:n}).then((function(e){var t=e.data;return t})).catch((function(e){console.error("error is",e)}))}o="https://api.h5.games-workshop-china.com/api/v1/",s.a.defaults.baseURL=o,s.a.defaults.headers["Content-Type"]="application/json"},2808:function(e,t,n){"use strict";var o=n("5c8c");o["a"].configure({urlPrefix:"https://api.h5.games-workshop-china.com",visitDuration:30}),t["a"]=o["a"]},"56d7":function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"currentAosQuestion",(function(){return ne})),n.d(o,"currentFourtyKQuestion",(function(){return oe}));var r={};n.r(r),n.d(r,"addQuestions",(function(){return re}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),s={key:0};function i(e,t,n,o,r,i){var c=Object(a["H"])("DesktopLanding"),u=Object(a["H"])("router-view"),l=Object(a["H"])("sound");return Object(a["z"])(),Object(a["g"])(a["a"],null,[r.mobile?(Object(a["z"])(),Object(a["e"])(u,{key:1},{default:Object(a["Q"])((function(e){var t=e.Component;return[Object(a["k"])(a["b"],{name:"fade"},{default:Object(a["Q"])((function(){return[(Object(a["z"])(),Object(a["e"])(Object(a["I"])(t)))]})),_:2},1024)]})),_:1})):(Object(a["z"])(),Object(a["g"])("div",s,[Object(a["k"])(c)])),Object(a["k"])(l)],64)}var c=n("1da1"),u=n("5530"),l=(n("96cf"),n("d3b7"),n("159b"),n("e9c4"),n("26b3")),d=n("aaef"),f=n("335a"),h=n("032f"),b=n("2808");function p(){return g.apply(this,arguments)}function g(){return g=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(h["b"])(),n=t.getCookie(d["b"]),o={"Ahoy-Visit":b["a"].getVisitId(),"Ahoy-Visitor":b["a"].getVisitorId()},!n){e.next=14;break}return e.next=6,Object(l["a"])("/login",{email:n["X-USER-EMAIL"]},o);case 6:return r=e.sent,t.setCookie(d["b"],JSON.stringify(r["headers"])),f["a"].session.set(d["b"],r["headers"]),m(r["categories"]["40k"]["questions"]),v(r["categories"]["aos"]["questions"]),e.abrupt("return",r);case 14:return e.next=16,Object(l["a"])("/login",{},o);case 16:return r=e.sent,t.setCookie(d["b"],JSON.stringify(r["headers"])),f["a"].session.set(d["b"],r["headers"]),m(r["categories"]["40k"]["questions"]),v(r["categories"]["aos"]["questions"]),e.abrupt("return",r);case 22:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function m(e){e.forEach((function(e){f["a"].session.set("__40kquestion".concat(e.page_template_number,"__"),e)}))}function v(e){e.forEach((function(e){f["a"].session.set("__aosquestion".concat(e.page_template_number,"__"),e)}))}var q=n("5502"),y={autoplay:"",loop:"",ref:"audio"},k=["src"],O=Object(a["j"])(" Your browser does not support the audio element. ");function j(e,t,n,o,r,s){return Object(a["z"])(),Object(a["g"])("audio",y,[Object(a["h"])("source",{src:n.soundUrl,type:"audio/wav"},null,8,k),O],512)}var _={name:"sound",computed:Object(u["a"])({},Object(q["e"])(["play"])),props:{soundUrl:{default:"https://warhammer-h5.oss-cn-shanghai.aliyuncs.com/assets/regular/landing-music.wav"}},watch:{play:function(e){e?this.$refs.audio.play():this.$refs.audio.pause()}},mounted:function(){this.autoPlay()},methods:{autoPlay:function(){var e=this.$refs.audio;function t(){e.play(),document.removeEventListener("touchstart",t,!1)}document.addEventListener("WeixinJSBridgeReady",t,!1),document.addEventListener("touchstart",t,!1)}}},w=n("d959"),P=n.n(w);const E=P()(_,[["render",j]]);var x=E,S={class:"body fixed-no-scroll"},A=Object(a["i"])('<div class="bg" data-v-b23ee8ee></div><div class="content" data-v-b23ee8ee><img class="content-logo" src="https://warhammer-h5.oss-cn-shanghai.aliyuncs.com/assets/regular/logo_lg.png" alt="warhammer logo" data-v-b23ee8ee><h2 data-v-b23ee8ee> 测测你的战锤“基因” <br data-v-b23ee8ee> 你所属的战锤宇宙是哪个？ </h2><p data-v-b23ee8ee> 扫描下方二维码进入测试吧！ <br data-v-b23ee8ee> （手机端体验更佳哦!） </p><img class="content-qr" src="https://warhammer-h5.oss-cn-shanghai.aliyuncs.com/assets/regular/base_qr.png" alt="warhammer qr code" data-v-b23ee8ee></div><footer data-v-b23ee8ee><a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow" data-v-b23ee8ee>沪ICP备17004107号-1</a></footer>',3),C=[A];function L(e,t){return Object(a["z"])(),Object(a["g"])("div",S,C)}n("aa99");const Q={},T=P()(Q,[["render",L],["__scopeId","data-v-b23ee8ee"]]);var z=T,I=n("bbd5"),R={data:function(){return{mobile:!0}},components:{Sound:x,DesktopLanding:z},mounted:function(){console.log(111,Object(I["b"])()),this.mobile=Object(I["b"])(),this.login()},methods:Object(u["a"])({login:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:n=t.sent,o={aos:n["categories"]["aos"]["questions"],fourtyK:n["categories"]["40k"]["questions"]},e.addQuestions(o),console.log(n);case 6:case"end":return t.stop()}}),t)})))()}},Object(q["c"])(["addQuestions"]))};n("0658");const V=P()(R,[["render",i]]);var N=V,B=(n("3ca3"),n("ddb0"),n("6c02")),K=function(){return n.e("landing").then(n.bind(null,"bede"))},U=function(){return n.e("terms").then(n.bind(null,"bd91"))},D=function(){return Promise.all([n.e("40kq~aosq~choose~reveal~share"),n.e("choose")]).then(n.bind(null,"1c91"))},J=function(){return n.e("question").then(n.bind(null,"66ba"))},M=function(){return Promise.all([n.e("40kq~aosq~choose~reveal~share"),n.e("40kq~aosq~share"),n.e("40kq")]).then(n.bind(null,"4303"))},H=function(){return Promise.all([n.e("40kq~aosq~choose~reveal~share"),n.e("40kq~aosq~share"),n.e("aosq")]).then(n.bind(null,"de02"))},$=function(){return Promise.all([n.e("40kq~aosq~choose~reveal~share"),n.e("reveal")]).then(n.bind(null,"0fc1"))},F=function(){return Promise.all([n.e("40kq~aosq~choose~reveal~share"),n.e("40kq~aosq~share"),n.e("share")]).then(n.bind(null,"fbd8"))},W=[{path:"/",redirect:"/landing"},{path:"/landing",component:K},{path:"/terms",component:U},{path:"/choose",component:D},{path:"/questions",component:J,beforeEnter:function(e,t,n){var o=e.params.id,r=f["a"].session.get("__currentquiz__");!r||o>7||e.matched.length<2?n({path:"/landing"}):n()},children:[{path:"40k/:id",component:M},{path:"aos/:id",component:H}]},{path:"/reveal",component:$},{path:"/share",component:F,beforeEnter:function(e,t,n){var o=e.params.id;console.log(o);var r=f["a"].session.get("__currentquiz__");!r||o>7?n({path:"/landing"}):n()}}],X=Object(B["a"])({history:Object(B["b"])(),routes:W});X.beforeEach((function(e,t,n){e.matched.length?n():n({path:"/landing"})}));var Y=X,G={category:null,aosQuestions:[],fourtykQuestions:[],point:0,play:!0},Z=G,ee={setAos:function(e,t){e.aosQuestions=t},set40K:function(e,t){e.fourtykQuestions=t},setCategory:function(e,t){e.category=t},togglePlay:function(e){e.play=!e.play},noPlay:function(e){e.play=!1}},te=ee,ne=function(e){return e.aosQuestions},oe=function(e){return e.fourtykQuestions};function re(e,t){var n=e.commit,o=t.aos,r=t.fourtyK;n("setAos",o),n("set40K",r)}var ae=!1,se=Object(q["b"])({state:Z,getters:o,mutations:te,actions:r,strict:ae,plugins:ae?[Object(q["a"])()]:[]}),ie=(n("a41b"),n("77ed"),n("af1e"),n("c83c"));Object(a["d"])(N).use(se).use(Y).use(ie["a"]).use(h["a"]).mount("#app"),h["a"].config({expire:"7d"}),console.log=function(){}},9555:function(e,t,n){},a41b:function(e,t,n){},aa99:function(e,t,n){"use strict";n("febc")},aaef:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var o="__user__",r="__quiz__"},bbd5:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));n("fb6a"),n("d3b7"),n("ac1f"),n("466d");function o(e,t,n){return e.slice(t,n)}var r=null;function a(e,t,n){return function(){clearTimeout(r),r=setTimeout((function(){e(n)}),t)}}function s(){var e=[/Android/i,/webOS/i,/iPhone/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return e.some((function(e){return navigator.userAgent.match(e)}))}function i(e){window.history.pushState(null,null,e),window.onpopstate=function(){window.history.pushState(null,null,e)}}},febc:function(e,t,n){}});